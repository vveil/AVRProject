# Software-Dokumentation
[Startseite der Dokumentation](./documentation.md)
## Klassendiagramm
[![Class Diagram](./classdiagram.png)](./classdiagram.png)

## Erläuterung
Die Klassen teilen sich in 3 übergeordnete Packages, Logic & UI, NPC & Player und Map & Turret, auf. Die Klasse `UIManager` im Package Logic & UI verwaltet die UI im Spiel und sorgt beispielsweise dafür, dass die richtigen UI Elemente geladen werden, wenn der Spieler gewinnt bzw. verliert. Die Klasse `GameManager` kümmert sich um das Setzen von Türmen sowie das verwalten des Geldes des Spielers und die Kontrolle von NPC-Waves. Im Package NPC & Player verwaltet die Klasse `Hunt` das Setzen des Ziels für NPCs und ruft die Funktion `ModifyPlayerHealth(amount)`, mit einer negativen Zahl als `amount`, der Klasse `PlayerHealth` auf, wenn ein NPC das Ziel erreicht. In der Klasse `NPCHealth` wird das Leben der NPCs verwaltet. Abhängig von der Höhe der Lebenspunkte eines NPCs wird eine bestimmte Farbe gesetzt (grün => 50%, gelb => 25%, rot => 0%). Die Klassen `Pulse`, `Rotate` und `Swing` aus dem Package Map & Turret sorgen für die Animation der Turrets nachdem sie platziert wurden. Aus der Klasse `Selection` wird die Funktion `instantiateTurret(Transform)` aus der Klasse `GameManager` aufgerufen um bei Auswahl eines Hexagons einen Tower zu platzieren.  
Alle NPCs und Türme haben `Collider`, durch die registriert wird, ob ein NPC mit einem Turm kollidiert. Geschieht dies, werden dem NPC Lebenspunkte abgezogen. Wurde ein NPC von einem Turm zerstört (NPC hat 0 oder weniger Lebenspunkte), wird der instanziierte NPC zerstört und der Spieler erhält etwas In-Game-Währung. Die "Finish"-Fläche der Map hat ebenfalls einen `Collider`. Kollidieren NPCs mit diesem `Collider` werden sie zerstört und dem Spieler werden Lebenspunkte abgezogen. Die `OnTriggerEnter(Collider)`-Funktion aus der Klasse `MonoBehaviour` wird in der Klasse `NPCHealth` so überschrieben, dass beim Triggern durch einen anderen `Collider` geprüft wird, ob es sich um eine `Weapon` handelt. Ist dies der Fall verliert der NPC Lebenspunkte.  
Die vorangegangene Beschreibung stellt beispielhaft dar, wie die verschiedenen Klassen und `GameObjects` im Projekt miteinander interagieren. Die gesamte Logik hier in Textform auszuführen würde zu weit führen und ist besser direkt im Quellcode, anhand von Klassen- und Funktionennamen sowie Code-Kommentaren nachzuvollziehen.

## Ordnerstruktur
In dem Projektordner sind folgende Ordner zu finden: Assets, Library, Logs, Packages, Doc, ProjectSettings, Temp, executable, HexagonGrids und obj.  
Die für die Weiterentwicklung wichtigsten Ordner sind Assets, Doc und executable. Im Assests-Ordner befinden sich alle verwendeten Assets, Prefabs, Szenen, Sprites, Skripte und Ähnliches. Alle Skripte liegen im Ordner `Assets > Scripts`. Prefabs zur Map, UI, Towern und NPCs befinden sich im Ordner `Assets > Prefabs` etc.. Im executable-Ordner befinden sich ein Executable des Projekts in Form einer `.apk`. Im Doc-Ordner befinden sich alle Dokumente, die zur Dokumentation gehören.

## Weitere Dokumentation
Für weitere Software-Dokumentation und genauere Beschreibung spezieller Funktionen bitte die Kommentare im Quellcode beachten.